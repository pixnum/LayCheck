<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LayCheck</title>
<style>
body { margin:0; font-family: Arial, sans-serif; display:flex; justify-content:center; align-items:center; min-height:100vh; background:#121212; color:#e0e0e0; transition:0.3s;}
body.light { background:#f5f5f5; color:#222; }
.app-frame { width:95%; max-width:480px; padding:20px; border-radius:20px; background:#1e1e2f; box-shadow:8px 8px 16px #161622,-8px -8px 16px #29294d; text-align:center; margin:40px auto; position:relative;}
body.light .app-frame { background:#e0e0e0; box-shadow:8px 8px 16px #bebebe,-8px -8px 16px #fff;}
h1 { font-size:1.4rem; margin-bottom:15px;}
.input-group { margin-bottom:12px; text-align:left; }
label { display:block; margin-bottom:5px; font-size:0.9rem; }
select, input[type=number], input[type=text] { width:100%; padding:8px; border-radius:10px; border:none; outline:none; background:#1e1e2f; color:#e0e0e0; box-shadow: inset 4px 4px 8px #161622, inset -4px -4px 8px #29294d; transition:0.3s;}
body.light select, body.light input[type=number], body.light input[type=text] { background:#e0e0e0; color:#222; box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #fff; }
.button-row { display:flex; justify-content:center; align-items:center; gap:10px; margin-top:20px;}
.forecast-btn { flex:1; padding:10px 14px; border-radius:12px; font-size:0.95rem; font-weight:600; cursor:pointer; transition:0.3s; background:#1e1e2f; color:#00d4ff; box-shadow:3px 3px 8px #161622,-3px -3px 8px #29294d; border:none;}
body.light .forecast-btn { background:#e0e0e0; color:#0096c7; box-shadow:3px 3px 8px #bebebe,-3px -3px 8px #fff;}
.dark-mode-toggle { width:50px; height:50px; border-radius:50%; font-size:1.2rem; font-weight:bold; display:flex; justify-content:center; align-items:center; cursor:pointer; background:#1e1e2f; color:#00d4ff; box-shadow:4px 4px 10px #161622,-4px -4px 10px #29294d; border:none; position:absolute; top:20px; right:20px;}
body.light .dark-mode-toggle { background:#e0e0e0; color:#0096c7; box-shadow:4px 4px 10px #bebebe,-4px -4px 10px #fff;}
.gauge-container { margin:20px 0; display:flex; flex-direction:column; align-items:center;}
.circle-wrap { position:relative; width:120px; height:120px;}
.circle-wrap svg { transform:rotate(-90deg);}
.circle-bg { fill:none; stroke:#444; stroke-width:12;}
.circle-progress { fill:none; stroke-width:12; stroke-linecap:round; stroke-dasharray:141.3; stroke-dashoffset:141.3; transition: stroke-dashoffset 1s, stroke 1s;}
.gauge-text { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:1.2rem; font-weight:bold;}
.result { margin-top:15px; font-size:1rem; font-weight:600;}
footer { margin-top:15px; font-size:0.8rem; opacity:0.7;}
.disclaimer { text-align:center; font-size:0.75rem; color:#888; margin-top:10px; padding:0 10px;}
body.light .disclaimer { color:#555; }
.search-input { margin-bottom:5px; }
</style>
</head>
<body>
<div class="app-frame">
<button class="dark-mode-toggle" onclick="toggleDarkMode()">ðŸŒ™</button>
<h1>LayCheck</h1>

<div class="input-group">
<label for="industrySelect">Industry</label>
<input type="text" class="search-input" id="industrySearch" placeholder="Search Industry">
<select id="industrySelect"></select>
</div>

<div class="input-group">
<label for="roleSelect">Job Role</label>
<input type="text" class="search-input" id="roleSearch" placeholder="Search Job Role">
<select id="roleSelect"></select>
</div>

<div class="input-group">
<label for="departmentSelect">Department</label>
<input type="text" class="search-input" id="departmentSearch" placeholder="Search Department">
<select id="departmentSelect"></select>
</div>

<div class="input-group">
<label for="size">Company Size</label>
<select id="size">
<option value="small">Small</option>
<option value="medium">Medium</option>
<option value="large">Large</option>
</select>
</div>

<div class="input-group">
<label for="revenue">Revenue Trend (1-15)</label>
<input type="number" id="revenue" min="1" max="15" value="8"/>
</div>

<div class="input-group">
<label for="market">Market Conditions (1-15)</label>
<input type="number" id="market" min="1" max="15" value="8"/>
</div>

<div class="input-group">
<label for="performance">Performance Rating (1-10)</label>
<input type="number" id="performance" min="1" max="10" value="5"/>
</div>

<div class="input-group">
<label for="tenure">Years at Company</label>
<input type="number" id="tenure" min="0" value="2"/>
</div>

<div class="input-group">
<label for="contractType">Contract Type</label>
<select id="contractType">
<option value="permanent">Permanent</option>
<option value="contractor">Contractor</option>
</select>
</div>

<div class="input-group">
<label for="remote">Work Location</label>
<select id="remote">
<option value="onsite">On-site</option>
<option value="remote">Remote</option>
<option value="hybrid">Hybrid</option>
</select>
</div>

<div class="input-group">
<label for="previousLayoffs">Company Layoff History</label>
<select id="previousLayoffs">
<option value="none">None</option>
<option value="few">Few</option>
<option value="many">Many</option>
</select>
</div>

<div class="button-row">
<button class="forecast-btn" onclick="forecastLayoff()">Forecast Risk</button>
</div>

<div class="gauge-container">
<div class="circle-wrap">
<svg width="120" height="120">
<circle class="circle-bg" cx="60" cy="60" r="45"></circle>
<circle class="circle-progress" id="progressArc" cx="60" cy="60" r="45"></circle>
</svg>
<div class="gauge-text" id="gaugeText">0%</div>
</div>
</div>

<div class="result" id="result">Enter details and click Forecast Risk</div>
<footer>Â© Manik Roy 2025</footer>
<p class="disclaimer">Disclaimer: This tool provides an <strong>estimated layoff risk</strong> based on user inputs. It is for <strong>informational purposes only</strong> and should not be considered financial, career, or legal advice. Actual outcomes may vary.</p>
</div>

<script>
// Options
let industries=["Tech","Finance","Retail","Healthcare","Education","Manufacturing","Automotive","Telecom","Energy","Government","Non-Profit","Agriculture","Media","Hospitality","Construction","Pharmaceutical","Biotech","Transportation","Logistics","Real Estate","Consulting","Entertainment","Fashion","FMCG","Mining","Oil & Gas","Utilities","Chemicals","Insurance","Banking","Research","Startup","Defense","Aerospace","Food & Beverage","Travel","Tourism","Sports","Gaming","Internet","AI","ML","Robotics","Nanotechnology","Electronics","Software","Hardware","Printing"];
let roles=["Engineer","Manager","Sales","HR","Support","Designer","Analyst","Executive","Consultant","Intern","Developer","QA","Marketing","Finance","Operations","CTO","CFO","CEO","Product Manager","Project Manager","UX Designer","UI Designer","Researcher","Tester","Architect","Director","COO","Advisor","Trainer","Recruiter","Social Media","Content Writer","Business Analyst","Data Analyst","DevOps","Scientist","Technician","Legal","Internship","Assistant","Consulting Manager","Engineering Manager","HR Manager","Finance Executive","Operations Head","Marketing Head"];
let departments=["IT","Finance","Sales","Marketing","HR","Operations","Legal","Design","Customer Service","Supply Chain","Research","Security","Procurement","Strategy","Training","IT Security","Product","Analytics","Data","Support","Communications","Operations Head","Legal & Compliance","HR Business Partner","Digital Marketing","Field Sales","Inside Sales","Customer Relations","Training & Development","Procurement Manager","Strategy Planning","Quality","Maintenance","R&D","Content","Media","Public Relations","Creative","Finance & Audit","Project Management","Innovation","Production","Logistics","Customer Experience","Operations Manager","Risk"];

// Sort A-Z
industries.sort((a,b)=>a.localeCompare(b));
roles.sort((a,b)=>a.localeCompare(b));
departments.sort((a,b)=>a.localeCompare(b));

// Populate selects
function populate(selectId, arr){
  const sel=document.getElementById(selectId);
  sel.innerHTML="";
  arr.forEach((val,i)=>{
    const o=document.createElement("option");
    o.value=o.textContent=val;
    if(i===0) o.selected=true;
    sel.appendChild(o);
  });
}
populate("industrySelect", industries);
populate("roleSelect", roles);
populate("departmentSelect", departments);

// Safe search: suggest only
function setupSearch(inputId, selectId){
  const input=document.getElementById(inputId);
  const select=document.getElementById(selectId);
  input.addEventListener("input",()=>{
    const val=input.value.toLowerCase();
    let firstMatch=null;
    Array.from(select.options).forEach(opt=>{
      if(opt.value.toLowerCase().includes(val) && !firstMatch) firstMatch=opt;
    });
    if(firstMatch) select.value=firstMatch.value;
  });
}
setupSearch("industrySearch","industrySelect");
setupSearch("roleSearch","roleSelect");
setupSearch("departmentSearch","departmentSelect");

// Forecast Risk
function forecastLayoff(){
  const industry=document.getElementById("industrySelect").value;
  const role=document.getElementById("roleSelect").value;
  const dept=document.getElementById("departmentSelect").value;
  const size=document.getElementById("size").value;
  const revenue=parseFloat(document.getElementById("revenue").value);
  const market=parseFloat(document.getElementById("market").value);
  const perf=parseFloat(document.getElementById("performance").value);
  const tenure=parseFloat(document.getElementById("tenure").value);
  const contract=document.getElementById("contractType").value;
  const location=document.getElementById("remote").value;
  const prev=document.getElementById("previousLayoffs").value;

  if([revenue,market,perf,tenure].some(isNaN)){
    document.getElementById("result").textContent="Please fill all numeric inputs!";
    document.getElementById("progressArc").style.strokeDashoffset=141.3;
    document.getElementById("gaugeText").textContent="0%";
    return;
  }

  let risk=30;
  if(["Tech","AI","ML","Software"].includes(industry)) risk+=10;
  else if(["Retail","Hospitality","Travel","Tourism"].includes(industry)) risk+=15;
  else if(["Finance","Manufacturing","Automotive","Telecom","Energy"].includes(industry)) risk+=5;
  else if(["Healthcare","Education","Government","Non-Profit"].includes(industry)) risk-=5;

  if(role.toLowerCase().includes("intern")) risk+=12;
  else if(role.toLowerCase().includes("manager")||role.toLowerCase().includes("executive")) risk-=5;

  if(dept.toLowerCase().includes("sales")) risk+=5;
  else if(dept.toLowerCase().includes("legal")) risk-=4;
  else if(dept.toLowerCase().includes("it")) risk-=2;

  risk+=(15-revenue)*2;
  risk+=(15-market)*2;
  risk-=(perf-5)*4;
  risk-=tenure*0.5;

  if(contract==="contractor") risk+=10;
  if(location==="remote") risk-=3;
  if(location==="hybrid") risk-=1;
  if(prev==="few") risk+=5;
  if(prev==="many") risk+=10;

  risk=Math.max(0,Math.min(100,Math.round(risk)));

  document.getElementById("result").textContent=`Estimated Layoff Risk: ${risk}%`;
  const progressArc=document.getElementById("progressArc");
  const dash=141.3;
  progressArc.style.strokeDashoffset=dash-(dash*risk/100);
  if(risk<=50){let g=255;let r=Math.floor(255*risk/50); progressArc.style.stroke=`rgb(${r},${g},0)`;}
  else{let r=255; let g=Math.floor(255*(1-(risk-50)/50)); progressArc.style.stroke=`rgb(${r},${g},0)`;}
  document.getElementById("gaugeText").textContent=risk+"%";
}

function toggleDarkMode(){document.body.classList.toggle("light");}
</script>
</body>
</html>
